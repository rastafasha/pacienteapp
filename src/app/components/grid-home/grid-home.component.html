<div *ngIf="!patient">
    <h2 class="notiene">Usted no tiene registro medico con esta Clínica.</h2>
</div>

<section class="grid_home" *ngIf="obs$ | async as obs; else loading" >
    <ng-template #loading>Loading...</ng-template>
    <div class="container">
        <div class="parent">

            <div class="div-restaurant " (click)="openOrange()" >
                <div >
                    <h5>Cita Pendiente.</h5>
                    <img src="./assets/images/medical/morning-img-01.png" alt="">
                    <ng-container *ngFor="let item of appointment_pendings | slice:0:1; ">
                        <div class="datoscita">
                            <h3>Dr.{{item.doctor.full_name}}</h3>
                            <p><b style="color: var(--blanco);">{{item.speciality.name}}</b></p>
                            <p>{{item.date_appointment_format}}</p>
                            <p>{{item.segment_hour.format_segment.hour_start}} - {{item.segment_hour.format_segment.hour_end}}</p>
                            <div class="addic oculto-cita">
                                <p><b>Teléfono:</b> 170698</p>
                            <p><b>Sede Clínica:</b> <br>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident, officia.
                            </p>
                            
                            </div>
                        </div>

                    </ng-container>
                </div>
            </div>

            <div class="div-mercados  " (click)="openGreen()">
                <div>

                    <h5>Perfil.</h5>
                    <!-- <img src="./assets/images/food/cart.png" alt=""> -->
                </div>
                <div class="perfil-home">
                    <div class="fotoPerfil">
                        <img [src]="patient.avatar" alt="">
                    </div>
                    <div class="datospaciente">
                        <h3>{{patient.full_name}}</h3>
                        <p><b>Id</b> {{patient.n_doc}}</p>
                        <p><b>Teléfono:</b> {{patient.phone}}</p>
                        <div class="oculto">
                        <!-- <p><b>Responsable:</b> <br>
                            {{patient.person.name_responsable}}
                        </p> -->
                        <p><b>Atnt. Alergico:</b> <br>
                            {{patient.antecedent_alerg}}
                        </p>
                        <p><b>Atnt. Personal:</b> <br>
                            {{patient.antecedent_personal}}
                        </p>
                        <p><b>Atnt. Familiar:</b> <br>
                            {{patient.antecedent_family}}
                        </p>
                        
                        </div>
                    </div>
                </div>
            </div>

            <div class="div-farmacia " (click)="openBlue()">
                <div >
                    <h5>Medicinas.</h5>
                    <div *ngIf="!appointment_attention">
                        <h4 class="datosmedicinas-oculto">No posee citas atendidas</h4>
                    </div>

                    <img src="./assets/images/food/medical.png" alt="">
                    <div *ngIf="appointment_attention">
                        <div class="datosmedicinas-oculto">
                            <h3>Dr.{{appointment.doctor.full_name}}</h3>
                                <p>{{appointment.speciality.name}}</p>
                                <p>Fecha de la Cita: {{appointment.date_appointment_format}}</p>
                                <p>Status: 
                                    <span *ngIf="appointment.status === 1"> Pendiente</span>
                                    <span *ngIf="appointment.status === 2"> Atendida</span>
                                    
                                </p>
                                <p>Receta Médica:</p>
                                <ul *ngFor="let item of recetas">
                                    <li>{{item.name_medical}}<br>{{item.uso}}</li>
                                </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="div-bebida " (click)="openYellow()">
                <div >
                    <h5>Recipe Médico.</h5>
                    <div *ngIf="!appointment_attention">
                        <h4 class="oculto-datosrecipe">No posee citas atendidas</h4>
                    </div>
                    <div *ngIf="appointment_attention">
                        <div class="datosrecipe">
                            <div class="oculto-datosrecipe">
                                <h3>Dr.{{appointment.doctor.full_name}}</h3>
                                <p>{{appointment.speciality.name}}</p>
                                <p>Fecha de la Cita: {{appointment.date_appointment_format}}</p>
                                <p>Status: 
                                    <span *ngIf="appointment.status === 1"> Pendiente</span>
                                    <span *ngIf="appointment.status === 2"> Atendida</span>
                                    
                                </p>
                                <p>Detalle de la cita:</p>
                                <p>{{appointment_attention.description}}</p>
                                
                            </div>
                        </div>
                    </div>
                    
                    <img src="./assets/images/medical/morning-img-02.png" alt="">

                    
                </div>
            </div>

        </div>
    </div>
</section>